{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Nóminas - Sistema Policial</title>
    <link rel="stylesheet" href="{% static 'css/gestion_nomina.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="contenedor-principal">
        <div class="titulo-pagina">
            <h1><i class="fa-solid fa-file-invoice-dollar"></i> Gestión de Nóminas</h1>
        </div>

        <!-- Panel de Filtros -->
        <div class="panel-filtros">
            <div class="filtros-grupo">
                <div class="form-group">
                    <label for="filtro-tipo"><i class="fa-solid fa-filter"></i> Tipo:</label>
                    <select id="filtro-tipo" class="form-input">
                        <option value="">Todos los tipos</option>
                        <option value="Administrativo">Administrativo</option>
                        <option value="Obrero">Obrero</option>
                        <option value="Uniformado">Uniformado</option>
                        <option value="Directivo">Directivo</option>
                        <option value="Contratado">Contratado</option>
                        <option value="Jubilado">Jubilado</option>
                        <option value="Pensionado">Pensionado</option>
                        <option value="Bonos">Bonos</option>
                        <option value="Especial">Especial</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="filtro-mes"><i class="fa-solid fa-calendar-days"></i> Mes:</label>
                    <select id="filtro-mes" class="form-input">
                        <option value="">Todos los meses</option>
                        <option value="1">Enero</option>
                        <option value="2">Febrero</option>
                        <option value="3">Marzo</option>
                        <option value="4">Abril</option>
                        <option value="5">Mayo</option>
                        <option value="6">Junio</option>
                        <option value="7">Julio</option>
                        <option value="8">Agosto</option>
                        <option value="9">Septiembre</option>
                        <option value="10">Octubre</option>
                        <option value="11">Noviembre</option>
                        <option value="12">Diciembre</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="filtro-anio"><i class="fa-solid fa-calendar-alt"></i> Año:</label>
                    <select id="filtro-anio" class="form-input">
                        <option value="">Todos los años</option>
                        <option value="2022">2022</option>
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="filtro-estado"><i class="fa-solid fa-circle-check"></i> Estado:</label>
                    <select id="filtro-estado" class="form-input">
                        <option value="">Todos</option>
                        <option value="Pendiente">Pendiente</option>
                        <option value="Procesada">Procesada</option>
                        <option value="Cerrada">Cerrada</option>
                        <option value="Anulada">Anulada</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="filtro-secuencia"><i class="fa-solid fa-list-ol"></i> Secuencia:</label>
                    <select id="filtro-secuencia" class="form-input">
                        <option value="">Todas</option>
                        <option value="Primera">Primera</option>
                        <option value="Segunda">Segunda</option>
                        <option value="Especial">Especial</option>
                    </select>
                </div>
                
                <button id="btn-aplicar-filtros" class="btn-primario">
                    <i class="fa-solid fa-magnifying-glass"></i> Buscar
                </button>
                
                <button id="btn-limpiar-filtros" class="btn-secundario">
                    <i class="fa-solid fa-broom"></i> Limpiar
                </button>
            </div>
        </div>
        
        <!-- Tabla de Nóminas -->
        <div class="contenedor-tabla">
            <div class="tabla-header">
                <div class="tabla-titulo">
                    <h3><i class="fa-solid fa-table-list"></i> Listado de Nóminas</h3>
                    <span class="tabla-subtitulo">Mostrando 1-10 de 248 registros</span>
                </div>
                <div class="tabla-controles">
                    <button class="btn-icono" title="Refrescar">
                        <i class="fa-solid fa-arrows-rotate"></i>
                    </button>
                    <button class="btn-icono" title="Columnas">
                        <i class="fa-solid fa-table-columns"></i>
                    </button>
                </div>
            </div>
            
            <table class="tabla-nominas">
                <thead>
                    <tr>
                        <th width="120px">Tipo</th>
                        <th width="120px">Período</th>
                        <th width="100px">Secuencia</th>
                        <th width="80px">Registros</th>
                        <th width="100px">Estado</th>
                        <th width="150px">Fecha Carga</th>
                        <th width="180px">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Administrativo</td>
                        <td>Marzo 2024</td>
                        <td>Primera</td>
                        <td>125</td>
                        <td><span class="badge badge-procesada">Procesada</span></td>
                        <td>15/03/2024 10:30</td>
                        <td class="acciones">
                            <button class="btn-accion btn-ver" title="Ver detalle">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                            <button class="btn-accion btn-descargar" title="Descargar">
                                <i class="fa-solid fa-download"></i>
                            </button>
                            <button class="btn-accion btn-editar" title="Editar">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="btn-accion btn-eliminar" title="Eliminar">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>Uniformado</td>
                        <td>Marzo 2024</td>
                        <td>Primera</td>
                        <td>342</td>
                        <td><span class="badge badge-cerrada">Cerrada</span></td>
                        <td>18/03/2024 14:15</td>
                        <td class="acciones">
                            <button class="btn-accion btn-ver" title="Ver detalle">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                            <button class="btn-accion btn-descargar" title="Descargar">
                                <i class="fa-solid fa-download"></i>
                            </button>
                            <button class="btn-accion btn-editar" title="Editar">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="btn-accion btn-eliminar" title="Eliminar">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>Obrero</td>
                        <td>Marzo 2024</td>
                        <td>Segunda</td>
                        <td>87</td>
                        <td><span class="badge badge-pendiente">Pendiente</span></td>
                        <td>20/03/2024 09:45</td>
                        <td class="acciones">
                            <button class="btn-accion btn-ver" title="Ver detalle">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                            <button class="btn-accion btn-descargar" title="Descargar">
                                <i class="fa-solid fa-download"></i>
                            </button>
                            <button class="btn-accion btn-editar" title="Editar">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="btn-accion btn-eliminar" title="Eliminar">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <!-- Paginación -->
            <div class="paginacion">
                <div class="paginacion-info">
                    Mostrando <strong>1-10</strong> de <strong>248</strong> registros
                </div>
                <div class="paginacion-controles">
                    <button class="btn-paginacion" disabled>
                        <i class="fa-solid fa-angles-left"></i>
                    </button>
                    <button class="btn-paginacion" disabled>
                        <i class="fa-solid fa-angle-left"></i>
                    </button>
                    <button class="btn-pagina activa">1</button>
                    <button class="btn-pagina">2</button>
                    <button class="btn-pagina">3</button>
                    <span class="paginacion-puntos">...</span>
                    <button class="btn-pagina">25</button>
                    <button class="btn-paginacion">
                        <i class="fa-solid fa-angle-right"></i>
                    </button>
                    <button class="btn-paginacion">
                        <i class="fa-solid fa-angles-right"></i>
                    </button>
                </div>
                <div class="paginacion-registros">
                    <span>Registros por página:</span>
                    <select class="form-input-sm">
                        <option>10</option>
                        <option selected>25</option>
                        <option>50</option>
                        <option>100</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Detalle de Nómina -->
    <div id="modal-detalle" class="modal">
        <div class="modal-contenido modal-lg">
            <div class="modal-header">
                <h3><i class="fa-solid fa-file-invoice"></i> Detalle de Nómina</h3>
                <button class="btn-cerrar-modal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Contenido dinámico -->
            </div>
            <div class="modal-footer">
                <button class="btn-secundario">Cerrar</button>
                <button class="btn-primario">
                    <i class="fa-solid fa-download"></i> Descargar Reporte
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para Confirmar Eliminación -->
    <div id="modal-eliminar" class="modal">
        <div class="modal-contenido">
            <div class="modal-header">
                <h3><i class="fa-solid fa-triangle-exclamation"></i> Confirmar Eliminación</h3>
                <button class="btn-cerrar-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>¿Está seguro que desea eliminar esta nómina? Esta acción no se puede deshacer.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-secundario">Cancelar</button>
                <button class="btn-primario">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="js/gestion_nominas.js"></script>
</body>
</html>