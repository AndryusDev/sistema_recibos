{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Control de Vacaciones y Pagos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/vacaciones.css' %}">
</head>
<body>
    <div class="vacaciones-container">
        <div class="titulo-vacaciones">
            <h1><i class="fas fa-umbrella-beach"></i> Control de Vacaciones y Pagos</h1>
            <p>Gestiona tus días de vacaciones y consulta los pagos correspondientes</p>
        </div>
        
        <!-- Resumen de vacaciones y pagos -->
        <div class="resumen-vacaciones">
            <div class="resumen-card dias-acumulados">
                <h3>Días Acumulados</h3>
                <div class="valor" id="dias-acumulados">0</div>
                <p>Días disponibles según tu antigüedad</p>
            </div>
            
            <div class="resumen-card dias-tomados">
                <h3>Días Tomados</h3>
                <div class="valor" id="dias-tomados">0</div>
                <p>Días ya disfrutados este año</p>
            </div>
            
            <div class="resumen-card dias-pendientes">
                <h3>Días Pendientes</h3>
                <div class="valor" id="dias-pendientes">0</div>
                <p>Días que aún puedes disfrutar</p>
            </div>
            
            <div class="resumen-card pago-vacaciones">
                <h3>Pago Estimado</h3>
                <div class="valor" id="pago-estimado">$0.00</div>
                <p>Proyección de pago por días pendientes</p>
            </div>
        </div>
        
        <!-- Historial de vacaciones con pagos -->
        <div class="registros-vacaciones">
            <h2><i class="fas fa-history"></i> Historial de Vacaciones y Pagos</h2>
            <p>Detalle de tus períodos vacacionales y pagos recibidos</p>
            
            <table class="tabla-vacaciones">
                <thead>
                    <tr>
                        <th>Período</th>
                        <th>Mes/Año</th>
                        <th>Días</th>
                        <th>Pago Bruto</th>
                        <th>Pago Neto</th>
                        <th>Fecha Pago</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="historial-vacaciones">
                    <!-- Los registros se cargarán dinámicamente aquí -->
                </tbody>
            </table>
        </div>
        
        <!-- Solicitud de nuevas vacaciones -->
        <div class="formulario-solicitud">
            <h2><i class="fas fa-plus-circle"></i> Solicitar Nuevas Vacaciones</h2>
            <p>Completa el formulario para solicitar un nuevo período vacacional</p>
            
            <form id="form-solicitud-vacaciones">
                <div class="form-group">
                    <label for="fecha-inicio">Fecha de Inicio:</label>
                    <input type="date" id="fecha-inicio" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="fecha-fin">Fecha de Fin:</label>
                    <input type="date" id="fecha-fin" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="dias-planificados">Días Hábilies:</label>
                    <input type="number" id="dias-planificados" class="form-control" readonly>
                </div>
                
                <div class="form-group">
                    <label for="pago-proyectado">Pago Proyectado:</label>
                    <input type="text" id="pago-proyectado" class="form-control" readonly value="$0.00">
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-paper-plane"></i> Solicitar Vacaciones
                </button>
            </form>
        </div>
    </div>
    
    <!-- Modal para detalles de pago -->
    <div class="modal-vacaciones" id="modal-pago-vacaciones">
        <div class="modal-contenido">
            <div class="modal-header">
                <h2 id="modal-titulo-pago">Detalles de Pago de Vacaciones</h2>
                <button class="close-modal" id="close-modal-pago">&times;</button>
            </div>
            
            <div id="modal-body-pago">
                <div class="detalle-pago">
                    <div class="info-pago">
                        <h3><i class="fas fa-calendar-alt"></i> Período Vacacional</h3>
                        <p id="periodo-vacacional">10/07/2023 - 21/07/2023</p>
                        
                        <h3><i class="fas fa-money-bill-wave"></i> Detalle de Pago</h3>
                        <table class="tabla-detalle-pago">
                            <tr>
                                <td>Salario diario:</td>
                                <td id="salario-diario">$1,000.00</td>
                            </tr>
                            <tr>
                                <td>Días de vacaciones:</td>
                                <td id="dias-vacaciones">10</td>
                            </tr>
                            <tr class="total">
                                <td>Subtotal:</td>
                                <td id="subtotal">$10,000.00</td>
                            </tr>
                            <tr>
                                <td>Prima vacacional (25%):</td>
                                <td id="prima-vacacional">$2,500.00</td>
                            </tr>
                            <tr class="total">
                                <td>Total bruto:</td>
                                <td id="total-bruto">$12,500.00</td>
                            </tr>
                            <tr>
                                <td>ISR retenido:</td>
                                <td id="isr-retenido">$1,250.00</td>
                            </tr>
                            <tr class="total">
                                <td>Total neto:</td>
                                <td id="total-neto">$11,250.00</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="info-deposito">
                        <h3><i class="fas fa-university"></i> Información de Depósito</h3>
                        <p><strong>Fecha de pago:</strong> <span id="fecha-pago">25/07/2023</span></p>
                        <p><strong>Método de pago:</strong> <span id="metodo-pago">Transferencia bancaria</span></p>
                        <p><strong>Cuenta destino:</strong> <span id="cuenta-destino">****1234</span></p>
                        <p><strong>Referencia:</strong> <span id="referencia-pago">VAC20230710</span></p>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="imprimirDetallePago()">
                    <i class="fas fa-print"></i> Imprimir
                </button>
                <button class="btn btn-success" onclick="descargarComprobante()">
                    <i class="fas fa-download"></i> Descargar
                </button>
                <button class="btn btn-danger" onclick="cerrarModalPago()">
                    <i class="fas fa-times"></i> Cerrar
                </button>
            </div>
        </div>
    </div>

    <!-- Incluir el archivo JavaScript -->
    <script src="{% static 'javascript/menu_principal/subs_menus/vacaciones.js' %}"></script>
</body>
</html>